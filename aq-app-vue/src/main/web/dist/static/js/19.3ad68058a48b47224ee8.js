webpackJsonp([19],{"7d22":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("rI3w"),a=n("cAgV"),l=n("IcnI"),s={name:"sellGoodsList",directives:{waves:a.a},data:function(){return{tableKey:0,list:null,total:null,listLoading:!0,listQuery:{pageNum:1,pageSize:20,isDel:"N",name:void 0,model:void 0}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(i.g)(this.listQuery).then(function(t){50001===t.code&&l.a.dispatch("GetRefreshToken").then(function(){e.getList()}),200===t.code&&(e.list=t.data.items,e.total=t.data.total,setTimeout(function(){e.listLoading=!1},1500))}).catch(function(){e.listLoading=!1})},handleFilter:function(){this.listQuery.pageNum=1,this.getList()},handleSizeChange:function(e){this.listQuery.pageSize=e,this.getList()},handleCurrentChange:function(e){this.listQuery.pageNum=e,this.getList()},handleDeleteRecovery:function(e){var t=this;this.$confirm("恢复商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(n){var a={id:e,isDelete:"Y"};return Object(i.l)(a).then(function(n){50001===n.code&&l.a.dispatch("GetRefreshToken").then(function(){t.handleDeleteRecovery(e)}),200===n.code&&(t.$message({message:"操作成功",type:"success"}),t.getList())}).catch(function(){t.listLoading=!1}),!0})},handleDelete:function(e){var t=this;this.$confirm("此删除商品数据将会丢失, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(n){var a={id:e};return Object(i.f)(a).then(function(n){50001===n.code&&l.a.dispatch("GetRefreshToken").then(function(){t.handleDelete(e)}),200===n.code&&(t.$message({message:"操作成功",type:"success"}),t.getList())}).catch(function(){t.listLoading=!1}),!0})}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("div",{staticStyle:{float:"right"}},[n("label",{staticClass:"filter-item"},[e._v("商品名：")]),e._v(" "),n("el-input",{staticClass:"filter-item",staticStyle:{width:"140px"},attrs:{clearable:"",placeholder:"请输入商品名"},on:{change:e.handleFilter},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}}),e._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleFilter}},[e._v("\n        "+e._s(e.$t("table.search"))+"\n      ")])],1)]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%","min-height":"100%"},attrs:{data:e.list,stripe:"",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:e.$t("table.no"),width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.$index+1))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"图片",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=t.row.imgs[0]?n("img",{staticStyle:{width:"90px",height:"50px"},attrs:{src:t.row.imgs[0].url}}):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"名称","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"价格",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v("￥"+e._s(t.row.banPrice))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"库存",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.currentStock))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"可用库存",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.useableStock))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"创建时间","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.createTime))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"更新时间","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.lastCreateTime))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:e.$t("table.actions"),width:"220","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){e.handleDeleteRecovery(t.row.id)}}},[e._v(e._s(e.$t("table.recovery"))+"\n        ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.handleDelete(t.row.id)}}},[e._v(e._s(e.$t("table.delete"))+"\n        ")])]}}])})],1),e._v(" "),n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{background:"","current-page":e.listQuery.pageNum,"page-sizes":[10,20,30,50],"page-size":e.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]},c=n("VU/8")(s,r,!1,null,null,null);t.default=c.exports}});